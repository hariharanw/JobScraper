<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
        <title>crud dashboard</title>
	    <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="css/bootstrap.min.css">
	    <!---css3-->
        <link rel="stylesheet" href="css/custom.css">
		
		
		<!--google fonts -->
	    <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
	
	
	   <!--google material icon-->
      <link href="https://fonts.googleapis.com/css2?family=Material+Icons"rel="stylesheet">

  </head>
  <body>
  


<div class="wrapper">
     
	  <div class="body-overlay"></div>
	 
	 <!---sidebar-design-->
	 
	 <div id="sidebar">
		<div class="sidebar-header d-flex justify-content-center">
			<h1><img src="img/sdlogo.png" class="img-fluid" style="max-width: 120px; height: auto;" /></h1>
		 </div>
	   
		<ul class="list-unstyled component m-0">
		  <li class="dropdown">
		  <a href="index.html" class="dashboard"><i class="material-icons">dashboard</i>dashboard</a>
		  </li>
		  
		 <li class="active">
    		<a href="jobs.html" data-toggle="collapse" aria-expanded="false">
        		<i class="material-icons">work</i>Jobs
  	  		</a>
		</li>
		  
		   <li class="dropdown">
		  <a href="#homeSubmenu2" data-toggle="collapse" aria-expanded="false">
		  
		  <i class="material-icons">business</i>Companies</a>
		  </li>
		  
		   <li class="dropdown">
		  <a href="#homeSubmenu3" data-toggle="collapse" aria-expanded="false">
		  <i class="material-icons">block</i>Ignored</a>
		  </li>
		  
		  
		   <li class="dropdown">
		  <a href="#homeSubmenu4" data-toggle="collapse" aria-expanded="false">
		  <i class="material-icons">notifications</i>Notifications</a>
		  </li>

		  <li>&nbsp;</li>
		  <li>&nbsp;</li>
		  <li>&nbsp;</li>
		  <li>&nbsp;</li>
		  
		  <li class="dropdown">
			<a href="#homeSubmenu10" data-toggle="collapse" aria-expanded="false">
			<i class="material-icons">settings</i>Settings</a>
			</li>
	 </div>
	 
   <!---sidebar-design- close-->

   
      <div id="content">
	     
		  <!---top-navbar-start--> 
		 
		  <div class="top-navbar">
		     <div class="xd-topbar">
			     <div class="row">
				     <div class="col-2 col-md-2 col-lg-1 order-2 order-md-1 align-self-center">
					    <div class="xp-menubar">
						    <span class="material-icons text-white">signal_cellular_alt</span>
						</div>
					 </div>
					 <div class="col-10 col-md-6 col-lg-11 order-1 order-md-2">
					 <nav class="navbar">
						 <ul class="navbar-nav flex-row ml-auto ">
							 <li class="dropdown nav-item">
								 <a class="nav-link" href="#" data-toggle="dropdown">
									<span class="mr-2">Hello, Elisa Williams </span>
									 <img src="img/user.jpg" style = "width:45px; border-radius:50%;"/>
								 </a>
							 </li>
						 </ul>
					 </nav>
					 </div>
					 </div>
			   </div>
		  </div>
		  <div class="flex justify-between">
			<div class="search-box-container bg-gray-200 p-0">
				<input type="text" class="search-box" placeholder="Search queries...">
			</div>
			<div class="col-sm-6  p-3 flex justify-content-lg-end  ">
				
					<a href="#"  class="btn btn-success btn-xs" data-toggle="modal" style="margin-left: 10px;">
						<i class="material-icons">file_download</i>
						<span>Export</span>
						</a>
					
					<a href="#addQuery"  class="btn btn-primary btn-xs" data-toggle="modal"  style="margin-left: 10px;">
						<i class="material-icons">&#xE147;</i>
						<span>AddQuery</span>
						</a>
					
					<a href="#"  class="btn btn-default btn-xs" data-toggle="modal">
						<i class="material-icons">filter_list</i>
						<span>Filter</span>
						</a>
						
			</div>
			</div>
		  <div class="main-content">
			<div class="row">
			   <div class="col-md-12">
				   <div class="row">
					   
				   </div>
				  <div class="table-wrapper">
					
				  <table class="table table-stripped table-hover">
					 <thead>
						<tr>
						<th>Job ID</th>
						<th>Job Title</th>
						<th>Company Name</th>
						<th>Location</th>
						<th>Posted Date</th>
						<th>Status</th>
						<th>Post URL</th>
                        <th>View</th>
						</tr>
					 </thead>
					
					 <tbody id="jobTableBody1">
					   </tbody>
				  </div>
			   </div>
			   
               <!--Add query-->
               <div class="modal fade" tabindex="-1" id="addQuery" role="dialog">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title">Add Query</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div class="form-group">
                          <label>Job_title</label>
                          <input type="text" class="form-control" id="jobTitleInput" required>
                      </div>
                      <div class="form-group">
                          <label>Location</label>
                          <input type="Location" class="form-control" id="locationInput" required>
                      </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                      <button type="button" class="btn btn-success" onclick="saveQuery()">Save</button>
                    </div>
                  </div> 
                </div>
              </div>

                <!--AddQueryEnd-->
			
				<!--Add to Workspace Modal-->
			 <div class="modal fade" tabindex="-1" id="addToWorkspacemodal" role="dialog">
						<div class="modal-dialog" role="document">
						  <div class="modal-content">
							<div class="modal-header">
							  <h5 class="modal-title">Add Workspace</h5>
							  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							  </button>
							</div>
							</div>
						  </div>
						</div>
					  </div>
					   

<!---Add to workspace end-->

				
	   <!---main-content-end-->



<!---complete html-->






<!-- Optional JavaScript -->
<script src="js/jquery-3.3.1.slim.min.js"></script>
   <script src="js/popper.min.js"></script>
   <script src="js/bootstrap.min.js"></script>
   <script src="js/jquery-3.3.1.min.js"></script>
  
  
   <script type="text/javascript">
    $(document).ready(function () {
        $(".xp-menubar").on('click', function () {
            $("#sidebar").toggleClass('active');
            $("#content").toggleClass('active');
        });

        $('.xp-menubar, .body-overlay').on('click', function () {
            $("#sidebar, .body-overlay").toggleClass('show-nav');
        });

		   
   		
});

        // Fetch and populate queries with checkboxes
       

</script>
<script  type="text/javascript">
	
$(document).ready(function() {
	const companyName = 'ABCtechCompany '
	const postedDate = '16 Dec 2023';
        const status = 'Active';
        const postUrl = 'https://www.ABCtechh.com';
        

    // Function to fetch and populate the job data in the table
    function populateJobTable() {
        var jobTableBody = $('#jobTableBody1');

        // Make an AJAX request to fetch jobs
        $.ajax({
            type: 'GET',
            url: '/jobs', // Adjust the URL based on your controller mapping
            success: function (jobs) {
                // Clear existing rows
                jobTableBody.empty();
 
                // Add fetched jobs to the table
                $.each(jobs, function (index, job) {
                    var row = $('<tr>');
                    row.append('<td>' + job.jobId + '</td>');
                    row.append('<td>' + job.jobTitle + '</td>');
                    row.append('<td>' + companyName + '</td>');
                    row.append('<td>' + job.location + '</td>');
                    row.append('<td>' + postedDate + '</td>');
                    row.append('<td>' + status + '</td>');
                    row.append('<td>' + postUrl + '</td>');
                    row.append('<td><i class="material-icons">visibility</i></td>'); // Adjust this based on your icon

                    jobTableBody.append(row);
                });
            },
            error: function (error) {
                console.error('Error fetching jobs:', error);
                // Handle error, e.g., display an alert
                alert('Error fetching jobs. Please try again.');
            }
        });
    }

    // Call the function to populate the job table on page load
    populateJobTable();
});
$(document).on('change', '.jobCheckbox', function () {
    var allChecked = $('.jobCheckbox').length === $('.jobCheckbox:checked').length;
    $('#selectAll').prop('checked', allChecked);
    });
  
</script>
<!-- Include jQuery library -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
    function saveQuery() {
        // Get values from input fields
        var jobTitle = $('#jobTitleInput').val();
        var location = $('#locationInput').val();

        // Construct JSON object
        var queryData = {
            jobTitle: jobTitle,
            location: location
        };

        // Make AJAX request to save the query
        $.ajax({
            type: 'POST',
            url: '/queries/add',  // Replace with your actual endpoint
            contentType: 'application/json',
            data: JSON.stringify(queryData),
            success: function (response) {
                console.log('Query saved:', response);

                // Display a success message (you can customize this based on your needs)
                alert('Query saved successfully!');

                // Close the modal (assuming Bootstrap modal)
                
            },
            error: function (error) {
                console.error('Error saving query:', error);

                // Display an error message (you can customize this based on your needs)
                alert('Error saving query. Please try again.');
            }
        });
    }
</script>
<script>
    $(document).ready(function () {
        // Attach a click event to the arrow icon
        $('#workspaceList').on('click', function () {
            // Fetch workspaces and populate the dropdown on click
            fetchWorkspaces();
        });

        // Function to fetch workspaces and populate the dropdown
        function fetchWorkspaces() {
            // Make AJAX request to fetch workspaces
            $.ajax({
                type: 'GET',
                url: '/Addworkspace/getAll',  // Adjust the endpoint based on your mappings
                success: function (workspaces) {
                    // Clear existing options
                    $('#workspaceList').empty();

                    // Add the default option
                    $('#workspaceList').append('<option value="">Select a workspace</option>');

                    // Populate the dropdown with fetched workspaces
                    workspaces.forEach(function (workspace) {
                        var option = '<option value="' + workspace.id + '">' + workspace.name + '</option>';
                        $('#workspaceList').append(option);
                    });
                },
                error: function (error) {
                    console.error('Error fetching workspaces:', error);
                    // Display an error message (customize based on your needs)
                    alert('Error fetching workspaces. Please try again.');
                }
            });
        }
    });
</script>

</body>

</html>


